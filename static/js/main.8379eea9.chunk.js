(this["webpackJsonplost-pages-of-pa"]=this["webpackJsonplost-pages-of-pa"]||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a(16)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,i=a(0),r=a.n(i),s=a(6),o=a.n(s),l=(a(12),a(13),a(1)),u=a(2),c=a(4),h=a(3),y=function e(){Object(l.a)(this,e),this.x=0,this.y=0};function d(e){switch(e){case n.playerTileNumber:return"player";case n.wall:return"wall";case n.consumable:return"food";case n.portal:return"house";default:return"empty"}}!function(e){e[e.empty=0]="empty",e[e.wall=2]="wall",e[e.moveable=3]="moveable",e[e.portal=4]="portal",e[e.consumable=5]="consumable",e[e.playerTileNumber=9]="playerTileNumber"}(n||(n={}));var p=function(){function e(t,a,n,i){Object(l.a)(this,e),this.playerData=void 0,this.tileGridData=[],this.editIndex=0,this.xsize=void 0,this.ysize=void 0,this.OnUpdateData=void 0,this.xsize=a,this.ysize=n,this.tileGridData=t,this.OnUpdateData=i,this.playerData=new y,this.playerData.x=3,this.playerData.y=3;var r=this;document.addEventListener("keydown",(function(e){if(37===e.keyCode)r.movePlayer(-1,0);else if(39===e.keyCode)r.movePlayer(1,0);else if(38===e.keyCode)r.movePlayer(0,-1);else if(40===e.keyCode)r.movePlayer(0,1);else if(e.keyCode>=48&&e.keyCode<=57){var t=e.keyCode-48;console.log("number "+t+" pressed, setting index "+r.editIndex),r.setTileDataByIndex(r.editIndex,t)}}))}return Object(u.a)(e,[{key:"numColumns",get:function(){return this.xsize}},{key:"numRows",get:function(){return this.ysize}}]),Object(u.a)(e,[{key:"updateTile",value:function(e,t){this.OnUpdateData(this.tileGridData)}},{key:"setPlayerPos",value:function(e,t){this.playerData.x=e,this.playerData.y=t,this.setTileData(e,t,n.playerTileNumber),console.log("Player set to: "+e+":"+t)}},{key:"movePlayer",value:function(e,t){var a=this.playerData.x+e,i=this.playerData.y+t;if(!(a>=this.numColumns||a<0||i>=this.numRows||i<0)){var r=this.convertXYtoIndex(a,i),s=!0;switch(this.tileGridData[r]){case n.moveable:s=this.moveFood(a,i,a+e,i+t);break;case n.portal:this.enterHouse(),s=!1;break;case n.wall:s=!1}s&&(this.setTileData(this.playerData.x,this.playerData.y,n.empty),this.setPlayerPos(a,i))}}},{key:"moveFood",value:function(e,t,a,i){if(a>=this.numColumns||a<0||i>=this.numRows||i<0)return!1;var r=this.convertXYtoIndex(a,i),s=!1;switch(this.tileGridData[r]){case n.empty:s=!0;break;case n.portal:return this.eatFood(),!0}return!!s&&(this.setTileData(e,t,n.empty),this.setTileData(a,i,n.consumable),!0)}},{key:"eatFood",value:function(){}},{key:"enterHouse",value:function(){}},{key:"convertXYtoIndex",value:function(e,t){return t*this.numColumns+e}},{key:"convertIndexToXY",value:function(e){return{x:e%this.numColumns,y:Math.floor(e/this.numColumns)}}},{key:"setTileData",value:function(e,t,a){var n=this.convertXYtoIndex(e,t);this.setTileDataByIndex(n,a)}},{key:"setTileDataByIndex",value:function(e,t){-1!==e&&(this.tileGridData[e]=t,this.updateTile(e,t))}},{key:"getTileData",value:function(e){return d(this.tileGridData[e])}}]),e}(),m=(a(14),function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e="tile ".concat(d(this.props.collisionType));return r.a.createElement("img",{key:this.props.index,className:e})}}]),a}(r.a.Component)),v=(a(15),function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).tileElements=[],e}return Object(u.a)(a,[{key:"render",value:function(){for(var e=this.props.xSize*this.props.ySize,t=[],a=0;a<e;a++){var n=new m({index:a,collisionType:this.props.data[a]});this.tileElements.push(n),t.push(n.render())}return r.a.createElement("div",{className:"TileGrid"},t)}},{key:"setTileDataByIndex",value:function(e,t){-1!==e&&this.tileElements[e].setState({collisionType:t})}}]),a}(r.a.Component)),f=function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(l.a)(this,a);var i=[2,2,2,0,0,2,9,0,0,0,0,0,3,3,0,0,2,0,3,0,0,4,0,0,0];(n=t.call(this,e)).state={data:i};new p(i,5,5,(function(e){return n.setState({data:e})}));return n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(v,{xSize:5,ySize:5,data:this.state.data})}}]),a}(r.a.Component);var b=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(f,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.8379eea9.chunk.js.map